<!DOCTYPE html>
<html lang="cn" dir="ltr" class="scroll-smooth" data-default-appearance="light"
  data-auto-appearance="true"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  
  <meta http-equiv="content-language" content="cn" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  
  <title>第三章|存储系统 &middot; 锦瑟无端</title>
  <meta name="title" content="第三章|存储系统 &middot; 锦瑟无端" />
  
  <meta name="description" content="My awesome website" />
  
  
  
  <link rel="canonical" href="http://localhost:1313/posts/chapter03/co/cpt03/" />
  
  <link rel="alternate" type="application/rss+xml" href="/posts/chapter03/co/cpt03/index.xml" title="锦瑟无端" />
  
  
  
  
  
  
  
  
  
  
  <link type="text/css" rel="stylesheet" href="/css/main.bundle.min.e4b93a31283ad564aac1a3bf64d1d83895379941f7b5af39e9e19c687fb4bf2a9df55c84fac631b59903364ce3f0fcc50de0dd3cc994994be24d9f7ff87ef795.css"
    integrity="sha512-5Lk6MSg61WSqwaO/ZNHYOJU3mUH3ta856eGcaH&#43;0vyqd9VyE&#43;sYxtZkDNkzj8PzFDeDdPMmUmUviTZ9/&#43;H73lQ==" />
  
  
  <script type="text/javascript" src="/js/appearance.min.c2c81e9219334ce9c908caa3ef1a291c4406af46eac23b5f374976ef1a0fc95d87abf3bd5fa11022622f2d882991637d85b351a7e9d94254a24734530be46dc3.js"
    integrity="sha512-wsgekhkzTOnJCMqj7xopHEQGr0bqwjtfN0l27xoPyV2Hq/O9X6EQImIvLYgpkWN9hbNRp&#43;nZQlSiRzRTC&#43;Rtww=="></script>
  
  
  
  
  
  
  
  
  
  <script defer type="text/javascript" id="script-bundle" src="/js/main.bundle.min.6ece09b43917cb66380f5ee610feb0c6d1b73798d171ccd7d73ac38dd7b4a5326ef0ac3f9a557ff5cc67c7d9e484f4ddd1f3f23301f277206665da75c58261e9.js"
    integrity="sha512-bs4JtDkXy2Y4D17mEP6wxtG3N5jRcczX1zrDjde0pTJu8Kw/mlV/9cxnx9nkhPTd0fPyMwHydyBmZdp1xYJh6Q==" data-copy="" data-copied=""></script>
  
  
  
  <script src="/lib/zoom/zoom.min.fcbc7f7b3dcea96e3b5570cd322c5d7a12d5351c87f9889b1c31745a2cc711df58f6b70795a86d50e63813b236ade916668332c10a70a4ce26f7c0878f525fce.js" integrity="sha512-/Lx/ez3OqW47VXDNMixdehLVNRyH&#43;YibHDF0WizHEd9Y9rcHlahtUOY4E7I2rekWZoMywQpwpM4m98CHj1Jfzg=="></script>
  
  
  
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="manifest" href="/site.webmanifest" />
  
  
  
  
  
  
  
  <meta property="og:url" content="http://localhost:1313/posts/chapter03/co/cpt03/">
  <meta property="og:site_name" content="锦瑟无端">
  <meta property="og:title" content="第三章|存储系统">
  <meta property="og:description" content="存储器概述 #存储器的层次结构 #寄存器 Cache(高速缓冲存储器) 主存(内存) 磁盘(辅存) 磁带、光盘。">
  <meta property="og:locale" content="cn">
  <meta property="og:type" content="website">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="第三章|存储系统">
  <meta name="twitter:description" content="存储器概述 #存储器的层次结构 #寄存器 Cache(高速缓冲存储器) 主存(内存) 磁盘(辅存) 磁带、光盘。">

  
  

  
  
  <meta name="author" content="Yike" />
  
  
  
  <link href="mailto:hello@your_domain.com" rel="me" />
  
  
  <link href="https://www.apple.com" rel="me" />
  
  
  <link href="https://github.com/username" rel="me" />
  
  
  <link href="https://www.zhihu.com" rel="me" />
  
  
  
  

<script src="/lib/jquery/jquery.slim.min.03cb160e3cfdb2667a2e2c80d283bebcf63ff8bbc4b629c9ab2babf6fae1d0c07ad470edae783efa4fabda2ac01c58d60e63b98b3c336be8208460f08f4354f5.js" integrity="sha512-A8sWDjz9smZ6LiyA0oO&#43;vPY/&#43;LvEtinJqyur9vrh0MB61HDtrng&#43;&#43;k&#43;r2irAHFjWDmO5izwza&#43;gghGDwj0NU9Q=="></script>






















  
  



  
  
  <meta name="theme-color"/>
  
  
</head>
<body
  class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600">
  <div id="the-top" class="absolute flex self-center">
    <a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600"
      href="#main-content"><span
        class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span></a>
  </div>
  
  
  <div class="min-h-[148px]"></div>
<div class="fixed inset-x-0 min-h-[130px] opacity-65 pl-[24px] pr-[24px] bg-gradient-to-b from-neutral from-60% dark:from-neutral-800 to-transparent mix-blend-normal" style="z-index:80"></div>
<div class="fixed inset-x-0 pl-[24px] pr-[24px]" style="z-index:100">
  <div id="menu-blur" class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl"></div>
  <div class="relative max-w-[64rem] ml-auto mr-auto">
    <div style="padding-left:0;padding-right:0;padding-top:2px;padding-bottom:3px"
    class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start space-x-3">
    
    
    
    <div>
        <a href="/" class="flex">
            <span class="sr-only">锦瑟无端</span>

            
            <img src="/img/blowfish_logo.png" width="1000" height="1000"
                class="logo max-h-[5rem] max-w-[5rem] object-scale-down object-left nozoom" alt="锦瑟无端" />
            

        </a>
    </div>
    
    <div class="flex flex-1 items-center justify-between">
        <nav class="flex space-x-3">

            
            <a href="/" class="text-base font-medium text-gray-500 hover:text-gray-900">锦瑟无端</a>
            

        </nav>
        <nav class="hidden md:flex items-center space-x-5 md:ml-12 h-12">

            
            
            
  <a href="/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        首页
    </p>
</a>



            
            
  <a href="/posts/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        笔记
    </p>
</a>



            
            
  <a href="/categories/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        分类
    </p>
</a>



            
             
  <div>
  <div class="cursor-pointer flex items-center nested-menu">
    
    <a  class="text-base font-medium text-gray-500 hover:text-primary-600 dark:hover:text-primary-400" title="">
      生活
    </a>
    <span>
      

  <span class="relative block icon">
    <svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 20 20"
  fill="currentColor"
  aria-hidden="true"
>
  <path
    fill-rule="evenodd"
    d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
    clip-rule="evenodd"
  />
</svg>

  </span>


    </span>
  </div>
  <div class="absolute menuhide">
    <div class="pt-2 p-5 mt-2 rounded-xl backdrop-blur shadow-2xl">
      <div class="flex flex-col space-y-3">
        
        <a href="/posts/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
          
          <p class="text-sm font-sm" title="">
            🚄旅游
          </p>
        </a>
        
        <a href="/posts/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
          
          <p class="text-sm font-sm" title="">
            🥐美食
          </p>
        </a>
        
      </div>
    </div>
  </div>
</div>



            
            
  <a href="/tags/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        Tags
    </p>
</a>



            
            
  <a href="/about/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
    
    <p class="text-base font-medium" title="">
        关于
    </p>
</a>



            
            

            


            
            <button id="search-button" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            


            
            
            <div
                class="ltr:mr-14 rtl:ml-14 flex items-center">
                <button id="appearance-switcher" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400">
                    <div class="flex items-center justify-center dark:hidden">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                    </div>
                    <div class="items-center justify-center hidden dark:flex">
                        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                    </div>
                </button>
            </div>
            

        </nav>
        <div class="flex md:hidden items-center space-x-5 md:ml-12 h-12">

            <span></span>

            


            
            <button id="search-button-mobile" aria-label="Search" class="text-base hover:text-primary-600 dark:hover:text-primary-400"
                title="">
                

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


            </button>
            

            
            
            <button id="appearance-switcher-mobile" aria-label="Dark mode switcher" type="button" class="text-base hover:text-primary-600 dark:hover:text-primary-400" style="margin-right:5px">
                <div class="flex items-center justify-center dark:hidden">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M32 256c0-123.8 100.3-224 223.8-224c11.36 0 29.7 1.668 40.9 3.746c9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3c9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480C132.1 480 32 379.6 32 256z"/></svg>

  </span>


                </div>
                <div class="items-center justify-center hidden dark:flex">
                    

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02 0-95.1 42.98-95.1 95.1S202.1 351.1 256 351.1s95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347L446.1 255.1l63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7l-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89L164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6L12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256l-63.15 91.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7l19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109l109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69 0-127.1-57.31-127.1-127.1c0-70.69 57.31-127.1 127.1-127.1s127.1 57.3 127.1 127.1C383.1 326.7 326.7 383.1 256 383.1z"/></svg>

  </span>


                </div>
            </button>
            

        </div>
    </div>
    <div class="-my-2 -mr-2 md:hidden">

        <label id="menu-button" for="menu-controller" class="block">
            <input type="checkbox" id="menu-controller" class="hidden" />
            
            <div class="cursor-pointer hover:text-primary-600 dark:hover:text-primary-400">
                

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M0 96C0 78.33 14.33 64 32 64H416C433.7 64 448 78.33 448 96C448 113.7 433.7 128 416 128H32C14.33 128 0 113.7 0 96zM0 256C0 238.3 14.33 224 32 224H416C433.7 224 448 238.3 448 256C448 273.7 433.7 288 416 288H32C14.33 288 0 273.7 0 256zM416 448H32C14.33 448 0 433.7 0 416C0 398.3 14.33 384 32 384H416C433.7 384 448 398.3 448 416C448 433.7 433.7 448 416 448z"/></svg>

  </span>


            </div>
            <div id="menu-wrapper" style="padding-top:5px;"
                class="fixed inset-0 z-30 invisible w-screen h-screen m-0 overflow-auto transition-opacity opacity-0 cursor-default bg-neutral-100/50 backdrop-blur-sm dark:bg-neutral-900/50">
                <ul
                    class="flex space-y-2 mt-3 flex-col items-end w-full px-6 py-6 mx-auto overflow-visible list-none ltr:text-right rtl:text-left max-w-7xl">

                    <li>
                        <span
                            class="cursor-pointer inline-block align-text-bottom hover:text-primary-600 dark:hover:text-primary-400">

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>

</span>
                    </li>

                    

                    
  <li class="mt-1">
    <a href="/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            首页
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/posts/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            笔记
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/categories/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            分类
        </p>
    </a>
</li>




                    

                     
  <li class="mt-1">
    <a class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            生活
        </p>
        <span>
            

  <span class="relative block icon">
    <svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 20 20"
  fill="currentColor"
  aria-hidden="true"
>
  <path
    fill-rule="evenodd"
    d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
    clip-rule="evenodd"
  />
</svg>

  </span>


        </span>
    </a>
</li>

<li class="mt-1">
    <a href="/posts/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-sm font-small" title="">
            🚄旅游
        </p>
    </a>
</li>

<li class="mt-1">
    <a href="/posts/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-sm font-small" title="">
            🥐美食
        </p>
    </a>
</li>

<li class="mb-2"></li>




                    

                    
  <li class="mt-1">
    <a href="/tags/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            Tags
        </p>
    </a>
</li>




                    

                    
  <li class="mt-1">
    <a href="/about/"  class="flex items-center text-gray-500 hover:text-primary-600 dark:hover:text-primary-400">
        
        <p class="text-bg font-bg" title="">
            关于
        </p>
    </a>
</li>




                    

                </ul>
                
                

            </div>
        </label>
    </div>
</div>





  </div>
</div>
<script>
  window.addEventListener('scroll', function (e) {
    var scroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
    var background_blur = document.getElementById('menu-blur');
    background_blur.style.opacity = (scroll / 300);
  });
</script>

  
  <div class="relative flex flex-col grow">
    <main id="main-content" class="grow">
      


 <header>
  
  <h1 class="mt-5 text-4xl font-extrabold text-neutral-900 dark:text-neutral">第三章|存储系统</h1>
  <div class="mt-1 mb-2 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
    





















<div class="flex flex-row flex-wrap items-center">
  
  
</div>


  </div>
  
  
    
    
      
      
    
  <script>
    var oid = "views_posts\\chapter03\\CO\\cpt03\\_index.md"
    var oid_likes = "likes_posts\\chapter03\\CO\\cpt03\\_index.md"
  </script>
  
  
  <script type="text/javascript" src="/js/page.min.0860cf4e04fa2d72cc33ddba263083464d48f67de06114529043cb4623319efed4f484fd7f1730df5abea0e2da6f3538855634081d02f2d6e920b956f063e823.js" integrity="sha512-CGDPTgT6LXLMM926JjCDRk1I9n3gYRRSkEPLRiMxnv7U9IT9fxcw31q&#43;oOLabzU4hVY0CB0C8tbpILlW8GPoIw=="></script>
  
  </header>
  <section class="mt-0 prose flex max-w-full flex-col dark:prose-invert lg:flex-row">
    
    <div class="min-w-0 min-h-0 max-w-prose">
      

<h1 class="relative group">存储器概述 
    <div id="%E5%AD%98%E5%82%A8%E5%99%A8%E6%A6%82%E8%BF%B0" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%AD%98%E5%82%A8%E5%99%A8%E6%A6%82%E8%BF%B0" aria-label="">#</a>
    </span>        
    
</h1>


<h2 class="relative group">存储器的层次结构 
    <div id="%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84" aria-label="">#</a>
    </span>        
    
</h2>
<p>寄存器 Cache(高速缓冲存储器) 主存(内存) 磁盘(辅存) 磁带、光盘。</p>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306121558197.png" alt="image.png" />
    
  </figure>
</p>
<p>主存-辅存：实现了虚拟存储系统，结果主存容量不够的问题。辅存与主存内容交换一般是由硬件和操作系统完成，涉及到操作系统中的页面置换算法。<br>
Cache-主存：解决了主存与CPU速度不匹配的问题。是由硬件自动完成的。计算机组成原理主要关注这部分。<br>
辅存的数据必须调入主存后才能被CPU访问。<br>
频繁被访问的数据可以复制一份到Cache中，更方便CPU读取。<br>
CPU进行一些加减运算时，操作数就存在寄存器，寄存器访问更快，但是其价格贵，数量更少。 <br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306121558271.png" alt="image.png" />
    
  </figure>
</p>


<h2 class="relative group">存储器的分类 
    <div id="%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%88%86%E7%B1%BB" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%88%86%E7%B1%BB" aria-label="">#</a>
    </span>        
    
</h2>


<h4 class="relative group">按层次分类 
    <div id="%E6%8C%89%E5%B1%82%E6%AC%A1%E5%88%86%E7%B1%BB" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E6%8C%89%E5%B1%82%E6%AC%A1%E5%88%86%E7%B1%BB" aria-label="">#</a>
    </span>        
    
</h4>
<p>高速缓存<br>
主存储器<br>
辅助存储器<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306121607679.png" alt="image.png" />
    
  </figure>
</p>


<h4 class="relative group">按存储介质分类 
    <div id="%E6%8C%89%E5%AD%98%E5%82%A8%E4%BB%8B%E8%B4%A8%E5%88%86%E7%B1%BB" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E6%8C%89%E5%AD%98%E5%82%A8%E4%BB%8B%E8%B4%A8%E5%88%86%E7%B1%BB" aria-label="">#</a>
    </span>        
    
</h4>
<p>半导体存储器：主存、Cache<br>
磁表面存储器：磁盘、磁带<br>
光存储器：光盘</p>


<h4 class="relative group">按存取方式分类 
    <div id="%E6%8C%89%E5%AD%98%E5%8F%96%E6%96%B9%E5%BC%8F%E5%88%86%E7%B1%BB" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E6%8C%89%E5%AD%98%E5%8F%96%E6%96%B9%E5%BC%8F%E5%88%86%E7%B1%BB" aria-label="">#</a>
    </span>        
    
</h4>
<ul>
<li>随机存取存储器（Random Acess Memory）：
读写任何一个存储单元所需时间都一样，与物理位置无关。</li>
<li>顺序存取存储器（Sequential Acess Memory）：
读写每一个存储单元所需的时间取决于存储单元所在的物理位置。</li>
<li>直接存取存储器（Direct Acess Memory）：
既有随机读取的特性，又有顺序读取的特性，先随机选取目标数据扇区，再顺序方式读取数据。<br>
顺序存取和直接读取都是串行访问存储器，读写某个存储单元所需时间与存储器单元的物理位置有关。</li>
<li>相联存储器（Associative Memory）：
即可以按内容访问的存储器，也可以按照内容检索到存储位置进行读写，“快表”就是一种。</li>
</ul>


<h4 class="relative group">按信息的更改性分类 
    <div id="%E6%8C%89%E4%BF%A1%E6%81%AF%E7%9A%84%E6%9B%B4%E6%94%B9%E6%80%A7%E5%88%86%E7%B1%BB" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E6%8C%89%E4%BF%A1%E6%81%AF%E7%9A%84%E6%9B%B4%E6%94%B9%E6%80%A7%E5%88%86%E7%B1%BB" aria-label="">#</a>
    </span>        
    
</h4>
<p>读写存取器：可读可写（磁盘，内存，Cache等） <br>
只读存储器（Read Only Memory）：只能读，不能写。（BIOS写到ROM上，实体音乐专辑存储到CD-ROM上）</p>


<h4 class="relative group">按信息的可保存性分类 
    <div id="%E6%8C%89%E4%BF%A1%E6%81%AF%E7%9A%84%E5%8F%AF%E4%BF%9D%E5%AD%98%E6%80%A7%E5%88%86%E7%B1%BB" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E6%8C%89%E4%BF%A1%E6%81%AF%E7%9A%84%E5%8F%AF%E4%BF%9D%E5%AD%98%E6%80%A7%E5%88%86%E7%B1%BB" aria-label="">#</a>
    </span>        
    
</h4>
<p>易失性存储器：断电后存储信息消失，（Cache、主存） <br>
非易失性存储器：断电后存储信息依旧保存，（磁盘、光盘） <br>
破坏性读出：信息读出后，原存储信息被破坏。（DRAM芯片，读出数据后要进行重写） <br>
非破坏性读出：信息读出后，原存储信息不被破坏。（SRAM、磁盘、光盘）</p>


<h3 class="relative group">存储器的性能指标 
    <div id="%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87" aria-label="">#</a>
    </span>        
    
</h3>
<p>存储容量：存储字数 * 字长（如1M*8位) <br>
MDR位数反映存储字长，MAR位数反映存储字数。<br>
单位成本：每位(bit)价格 = 总成本 / 总容量<br>
存储速度：数据传输率=数据的宽度/存储周期。   <br>
数据宽度位存储字长。</p>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306121635855.png" alt="image.png" />
    
  </figure>
</p>
<p>存储周期包括存取时间和恢复时间。<br>
存取时间是从一次启动存储器操作到完成该操作所经历的时间，分为读出时间和写入时间。<br>
存储周期也被称为读写周期或访问周期。指存储器进行一次完整的读写操作所需的全部时间，即连续两次独立地访问存储器操作之间所需的最小时间间隔。</p>
<p>主存带宽又称为数据传输率。表示每秒从主存进出信息的最大数量。单位为字、字节Byte、位bit 每秒。</p>


<h1 class="relative group">主存储器 
    <div id="%E4%B8%BB%E5%AD%98%E5%82%A8%E5%99%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%B8%BB%E5%AD%98%E5%82%A8%E5%99%A8" aria-label="">#</a>
    </span>        
    
</h1>


<h2 class="relative group">主存储器的基本组成 
    <div id="%E4%B8%BB%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%B8%BB%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90" aria-label="">#</a>
    </span>        
    
</h2>


<h3 class="relative group">基本半导体元件 
    <div id="%E5%9F%BA%E6%9C%AC%E5%8D%8A%E5%AF%BC%E4%BD%93%E5%85%83%E4%BB%B6" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%9F%BA%E6%9C%AC%E5%8D%8A%E5%AF%BC%E4%BD%93%E5%85%83%E4%BB%B6" aria-label="">#</a>
    </span>        
    
</h3>
<p>MOS管：施加的电压达到某个阈值，MOS管就可以连通。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306121641169.png" alt="image.png" />
    
  </figure>

MOS管接通后，电容与外部导线连接。<br>
电容如果存储的电荷在放电后电荷流出，外部导线监测到高电平即信号1，若电容不存储电荷，则外部导线监测到低电平即信号0。</p>


<h3 class="relative group">存储芯片的结构 
    <div id="%E5%AD%98%E5%82%A8%E8%8A%AF%E7%89%87%E7%9A%84%E7%BB%93%E6%9E%84" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%AD%98%E5%82%A8%E8%8A%AF%E7%89%87%E7%9A%84%E7%BB%93%E6%9E%84" aria-label="">#</a>
    </span>        
    
</h3>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306121645513.png" alt="image.png" />
    
  </figure>

存储字长与每个存储体设计有关。<br>
与CPU相连的地址总线连通MAR，然后通过译码器连接存储的单元的字选线来选择。字选线 <br>
与CPU与相连的数据总线宽度未存储字长，即图中绿线。位选线。 <br>
存储体总容量为 存储单元个数 * 存储字长。 <br>
控制电路 <br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306121655339.png" alt="image.png" />
    
  </figure>
</p>
<p>片选线：一个内存条可能包含多个存储芯片，用片选线来判断选择的存储芯片编号。<br>
读写控制线：可能为两根，一根控制写，一根控制读，或只用一根。向外暴露的引脚个数。   <br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306121656037.png" alt="image.png" />
    
  </figure>

上图中每个线都会对应一个金属引脚。  <br>
n位地址 对应 2<sup>n</sup>的存储单元。 <br>
8K * 8位 即2<sup>13</sup> * 8bit容量，地址线有13位，数据线有8位。</p>


<h3 class="relative group">寻址 
    <div id="%E5%AF%BB%E5%9D%80" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%AF%BB%E5%9D%80" aria-label="">#</a>
    </span>        
    
</h3>
<p>现代计算机通常按字节编址，即每个字节对应一个地址。<br>
对于总容量为1KB的存储体。地址线为10条，数据线为8条</p>
<ul>
<li>按字节寻址，1K个单元，每个单元存储1B的二进制数据。</li>
<li>按字寻址，将四个连续的字节合并为一个字，一次读取一个字，即256个单元，每个单元4B，字节地址算数左移两位转换为按字寻址的地址。</li>
<li>按半字寻址，将连续的两个字节合并为一个字。总共512个单元，每个单元存储2B的二进制数据。</li>
<li>按双字寻址，将连续的八个字节合并为一个字。总共128个单元，每个单元存储8B的二进制数据。</li>
</ul>


<h2 class="relative group">SRAM与DRAM 
    <div id="sram%E4%B8%8Edram" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#sram%E4%B8%8Edram" aria-label="">#</a>
    </span>        
    
</h2>
<p>静态RAM与动态RAM <br>
DRAM一般用于主存，SRAM一般用于Cache</p>


<h3 class="relative group">存储元件不同而导致的特性差异 
    <div id="%E5%AD%98%E5%82%A8%E5%85%83%E4%BB%B6%E4%B8%8D%E5%90%8C%E8%80%8C%E5%AF%BC%E8%87%B4%E7%9A%84%E7%89%B9%E6%80%A7%E5%B7%AE%E5%BC%82" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%AD%98%E5%82%A8%E5%85%83%E4%BB%B6%E4%B8%8D%E5%90%8C%E8%80%8C%E5%AF%BC%E8%87%B4%E7%9A%84%E7%89%B9%E6%80%A7%E5%B7%AE%E5%BC%82" aria-label="">#</a>
    </span>        
    
</h3>


<h5 class="relative group">栅极电容 
    <div id="%E6%A0%85%E6%9E%81%E7%94%B5%E5%AE%B9" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E6%A0%85%E6%9E%81%E7%94%B5%E5%AE%B9" aria-label="">#</a>
    </span>        
    
</h5>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306121734757.png" alt="image.png" />
    
  </figure>

电容放电后，信息会被破坏，是破坏性读出，读出后应该对数据重写。
每个存储元制造成本低，集成度高，功耗低。<br>
电容中的电荷信息即使不读取也会丢失，一般只能维持2ms，所以需要频繁对电容进行刷新。</p>


<h5 class="relative group">双稳态触发器 
    <div id="%E5%8F%8C%E7%A8%B3%E6%80%81%E8%A7%A6%E5%8F%91%E5%99%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%8F%8C%E7%A8%B3%E6%80%81%E8%A7%A6%E5%8F%91%E5%99%A8" aria-label="">#</a>
    </span>        
    
</h5>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306121735704.png" alt="image.png" />
    
  </figure>

有两种稳定的状态：
1：A高电平，B低电平。<br>
0：A低电平，B高电平。<br>
读出数据后，触发器状态依旧稳定，读数据为非破坏性读出，无需重写。<br>
每个存储元制造成本高，器件多，集成度低，功耗高。</p>


<h5 class="relative group">两种器件的特性对比： 
    <div id="%E4%B8%A4%E7%A7%8D%E5%99%A8%E4%BB%B6%E7%9A%84%E7%89%B9%E6%80%A7%E5%AF%B9%E6%AF%94" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%B8%A4%E7%A7%8D%E5%99%A8%E4%BB%B6%E7%9A%84%E7%89%B9%E6%80%A7%E5%AF%B9%E6%AF%94" aria-label="">#</a>
    </span>        
    
</h5>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306121740416.png" alt="image.png" />
    
  </figure>

两种断电之后信息都会消失，都是易失性读出。</p>


<h3 class="relative group">DRAM的刷新 
    <div id="dram%E7%9A%84%E5%88%B7%E6%96%B0" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#dram%E7%9A%84%E5%88%B7%E6%96%B0" aria-label="">#</a>
    </span>        
    
</h3>


<h4 class="relative group">多久需要刷新一次？ 
    <div id="%E5%A4%9A%E4%B9%85%E9%9C%80%E8%A6%81%E5%88%B7%E6%96%B0%E4%B8%80%E6%AC%A1" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%A4%9A%E4%B9%85%E9%9C%80%E8%A6%81%E5%88%B7%E6%96%B0%E4%B8%80%E6%AC%A1" aria-label="">#</a>
    </span>        
    
</h4>
<p>刷新周期一般为2ms，</p>


<h4 class="relative group">每次刷新多少存储单元？ 
    <div id="%E6%AF%8F%E6%AC%A1%E5%88%B7%E6%96%B0%E5%A4%9A%E5%B0%91%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E6%AF%8F%E6%AC%A1%E5%88%B7%E6%96%B0%E5%A4%9A%E5%B0%91%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83" aria-label="">#</a>
    </span>        
    
</h4>
<p>以行为单位，每次刷新一行存储单元。<br>
简单模型为存储单元按号排序，如果采用20位地址线就，那么就要排0到2<sup>20</sup> - 1号存储单元，也就是需要出2<sup>20</sup>条线，显然很难实现。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306121758329.png" alt="image.png" />
    
  </figure>
</p>
<p>如果用行列地址来定址，那么只需要一个行地址译码器和一个列地址译码器，每个译码器只需要确定0到1023号，相比来说减少了很多。地址分为行地址和列地址，前半部分为行地址，后半部分为列地址。减少了连通线的数量。  <br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306121759394.png" alt="image.png" />
    
  </figure>
</p>


<h4 class="relative group">如何刷新？ 
    <div id="%E5%A6%82%E4%BD%95%E5%88%B7%E6%96%B0" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%A6%82%E4%BD%95%E5%88%B7%E6%96%B0" aria-label="">#</a>
    </span>        
    
</h4>
<p>有相关硬件支持，由存储器独立完成，不需要CPU控制。每次读取一行存储单元的信息后，重新写入，占用1个读/写周期。</p>


<h4 class="relative group">在什么时候刷新呢？ 
    <div id="%E5%9C%A8%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E5%88%B7%E6%96%B0%E5%91%A2" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%9C%A8%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E5%88%B7%E6%96%B0%E5%91%A2" aria-label="">#</a>
    </span>        
    
</h4>
<p>假设DRAM内部结构排列成128x128的形式，读写周期为0.5us，2ms共2ms/0.5us = 4000个周期。</p>
<ol>
<li>
<p>分散刷新
每次读写玩都刷新一行，系统的存储周期会变长，前0.5us时间用于正常读写，后0.5us时间用于刷新，系统存储周期变为1us。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306121948120.png" alt="image.png" />
    
  </figure>
</p>
</li>
<li>
<p>集中刷新
选择2ms集中安排时间全部刷新，系统的存储周期不变，但有一段时间专门用于刷新，此时无法访问存储器，称之为“死区”<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306121950650.png" alt="image.png" />
    
  </figure>
</p>
</li>
<li>
<p>异步刷新
2ms内每行刷新一次即可-&gt; 2ms内需要产生128次刷新请求即，每隔2ms/128 = 15.6us一次，而每15.6us就有0.5us的死时间，相比集中刷新，异步刷新更分散。 <br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306121953167.png" alt="image.png" />
    
  </figure>
</p>
</li>
</ol>


<h3 class="relative group">DRAM的地址线复用技术 
    <div id="dram%E7%9A%84%E5%9C%B0%E5%9D%80%E7%BA%BF%E5%A4%8D%E7%94%A8%E6%8A%80%E6%9C%AF" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#dram%E7%9A%84%E5%9C%B0%E5%9D%80%E7%BA%BF%E5%A4%8D%E7%94%A8%E6%8A%80%E6%9C%AF" aria-label="">#</a>
    </span>        
    
</h3>
<p>由上边可知，DRAM如果存储单元过多，会导致译码器所需连接线过多，所以采用了行列地址来定址，每次刷新都是可以直接刷新一行，根据这个特性，可以在送行列地址时，将地址分为两次发送，一次为行，一次为列，通过相同的引脚输入。这样可以使地址线数减半，芯片引脚中地址引脚数减半。</p>


<h6 class="relative group">关于外接引脚个数 
    <div id="%E5%85%B3%E4%BA%8E%E5%A4%96%E6%8E%A5%E5%BC%95%E8%84%9A%E4%B8%AA%E6%95%B0" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%85%B3%E4%BA%8E%E5%A4%96%E6%8E%A5%E5%BC%95%E8%84%9A%E4%B8%AA%E6%95%B0" aria-label="">#</a>
    </span>        
    
</h6>
<p>SRAM 的外部引脚线是片选线和读写控制线，以及地址线和数据线。DRAM的外部引脚线是行选通信号线和列选通信号和线，读写控制线，以及地址线和数据线。</p>
<p>现在主流主存储器采用SDRAM，DRAM被淘汰了。</p>


<h2 class="relative group">只读存储器ROM 
    <div id="%E5%8F%AA%E8%AF%BB%E5%AD%98%E5%82%A8%E5%99%A8rom" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%8F%AA%E8%AF%BB%E5%AD%98%E5%82%A8%E5%99%A8rom" aria-label="">#</a>
    </span>        
    
</h2>


<h3 class="relative group">常见ROM 
    <div id="%E5%B8%B8%E8%A7%81rom" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%B8%B8%E8%A7%81rom" aria-label="">#</a>
    </span>        
    
</h3>
<p>ROM芯片是非易失性的，即断电后数据不会丢失。<br>
一般有MROM、PROM、EPROM、闪存、SSD等。</p>
<ul>
<li>MROM掩模式只读存储器，
一次写入后，之后任何人不可以重写。可靠性高，集成度高，价格便宜；缺点是灵活性差。</li>
<li>PROM可编程只读存储器，
用户可以用专门的PROM写入器写入信息，写入一次后就不能更改。</li>
<li>EPROM可擦除可编程只读存储器
用户可以通过编程器写入信息，也可以进行多次修改，虽然即可读又可以写，但是编程次数有限，不能替代RAM。<br>
LIVEPROM 用紫外写照射8-20分钟，可以擦除所有信息。 <br>
EEPROM 可以用电擦除的方式，擦除特定的字。</li>
<li>Flash Memory 闪存
由EEPROM发展而来，可用长期保存信息，也可以在线进行快速擦除与重写，既有价格便宜集成度高的特点，断电后可以保存信息，并且可以进行多次快速擦除重写。闪存需要先擦除再写入，因此闪存的“写”速度要比“读”慢。每个存储单元 只需要单个MOS管，位密度比RAM高。</li>
<li>Soil State Drivers 固态硬盘
由控制单元加存储单元（Flash芯片）构成，与Flash核心区别在于控制单元不同，可以进行多次快速擦除重写，速度快，功耗低，价格高。</li>
</ul>


<h3 class="relative group">计算机内重要的ROM 
    <div id="%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%86%85%E9%87%8D%E8%A6%81%E7%9A%84rom" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%86%85%E9%87%8D%E8%A6%81%E7%9A%84rom" aria-label="">#</a>
    </span>        
    
</h3>
<p>电脑关机后，RAM不通电，其内部的数据全部丢失，计算机下次开机时需要启动代码，这部分代码存在主板上的一块ROM中（BIOS），逻辑上一般将这一块与主存放到一起。编址时，一般将这块ROM上的内容编写到地址首位。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306122026529.png" alt="image.png" />
    
  </figure>
</p>


<h2 class="relative group">双端口RAM和多模块存储器 
    <div id="%E5%8F%8C%E7%AB%AF%E5%8F%A3ram%E5%92%8C%E5%A4%9A%E6%A8%A1%E5%9D%97%E5%AD%98%E5%82%A8%E5%99%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%8F%8C%E7%AB%AF%E5%8F%A3ram%E5%92%8C%E5%A4%9A%E6%A8%A1%E5%9D%97%E5%AD%98%E5%82%A8%E5%99%A8" aria-label="">#</a>
    </span>        
    
</h2>
<p>主存的优化技术。</p>


<h5 class="relative group">存取周期 
    <div id="%E5%AD%98%E5%8F%96%E5%91%A8%E6%9C%9F" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%AD%98%E5%8F%96%E5%91%A8%E6%9C%9F" aria-label="">#</a>
    </span>        
    
</h5>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306122036703.png" alt="image.png" />
    
  </figure>

如果有多核CPU都要访存，怎么办？CPU读写速度比主存快很多，主存恢复时间太长怎么办？</p>


<h3 class="relative group">双端口RAM（大纲已删） 
    <div id="%E5%8F%8C%E7%AB%AF%E5%8F%A3ram%E5%A4%A7%E7%BA%B2%E5%B7%B2%E5%88%A0" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%8F%8C%E7%AB%AF%E5%8F%A3ram%E5%A4%A7%E7%BA%B2%E5%B7%B2%E5%88%A0" aria-label="">#</a>
    </span>        
    
</h3>
<p>主要作用: 优化多核CPU访问同一根内存条的速度。 <br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306122041578.png" alt="image.png" />
    
  </figure>
</p>
<p>主存需要有完全两组独立的数据线、地址线、控制线。CPU、RAM中也要有更复杂的控制电路。<br>
两个端口对同一主存进行操作有4中情况：</p>
<ol>
<li>两个端口同时对不同的地址单元存取数据。 允许</li>
<li>两个端口同时对同一的地址单元读出数据。 允许</li>
<li>两个端口同时对同一的地址单元写入数据。 写入错误</li>
<li>两个端口同时对同一的地址单元，一个读入数据，一个写入数据。 读出错误
如果出现3 4的情况，置忙信号，由判断逻辑暂时关闭一个端口（延时接入），另一个端口正常访问。</li>
</ol>


<h3 class="relative group">多模块存储器 
    <div id="%E5%A4%9A%E6%A8%A1%E5%9D%97%E5%AD%98%E5%82%A8%E5%99%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%A4%9A%E6%A8%A1%E5%9D%97%E5%AD%98%E5%82%A8%E5%99%A8" aria-label="">#</a>
    </span>        
    
</h3>
<p>利用多个结构相同的存储模块的并行工作来提高存储器的吞吐率。<br>
CPU的速度比存储器快，若同时从存储器中取出n条指令，就可以充分利用CPU资源，提高运行速度。多体交叉存储器就是基于这种思想实现的。<br>
存储体中存的多数数据是连续存储的，比如数组。</p>


<h4 class="relative group">单体多字存储器 
    <div id="%E5%8D%95%E4%BD%93%E5%A4%9A%E5%AD%97%E5%AD%98%E5%82%A8%E5%99%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%8D%95%E4%BD%93%E5%A4%9A%E5%AD%97%E5%AD%98%E5%82%A8%E5%99%A8" aria-label="">#</a>
    </span>        
    
</h4>
<p>单体多字存储器就是，存储器中只有一个存储体，每个存储单元存储m个字，总线宽度也为m个字。一次并行读出m个字，地址必须顺序排列并处于同一存储单元。<br>
在一个存储周期内，从同一地址取出m条指令，然后将指令逐条送至CPU，即每隔1/m个存取周期，CPU向主存读取一条命令，显然提高了单体存储器的工作速度。但是只有当指令和数据是连续存放的，效果才比较明显。</p>


<h4 class="relative group">多体并行存储器 
    <div id="%E5%A4%9A%E4%BD%93%E5%B9%B6%E8%A1%8C%E5%AD%98%E5%82%A8%E5%99%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%A4%9A%E4%BD%93%E5%B9%B6%E8%A1%8C%E5%AD%98%E5%82%A8%E5%99%A8" aria-label="">#</a>
    </span>        
    
</h4>
<p>多体并行存储器由多模块组成，每个模块都有相同的容量和存取速度，每个模块都有独立的读写控制电路、地址寄存器、数据寄存器。既能并行工作，也能交叉工作。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306122126242.png" alt="image.png" />
    
  </figure>
</p>


<h5 class="relative group">高位交叉编址（顺序方式） 
    <div id="%E9%AB%98%E4%BD%8D%E4%BA%A4%E5%8F%89%E7%BC%96%E5%9D%80%E9%A1%BA%E5%BA%8F%E6%96%B9%E5%BC%8F" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E9%AB%98%E4%BD%8D%E4%BA%A4%E5%8F%89%E7%BC%96%E5%9D%80%E9%A1%BA%E5%BA%8F%E6%96%B9%E5%BC%8F" aria-label="">#</a>
    </span>        
    
</h5>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306122104248.png" alt="image.png" />
    
  </figure>

高位交叉编址其实就还是将多个存储器串行存取，实际上还是顺序存储器。每次读取一次后，需要再等待恢复周期，实际并不能提高效率。<br>
以连续访问00000-00100地址为例：<br>
设每个存储体存取周期为T，存取时间为r，T=r + 3r<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306122109750.png" alt="image.png" />
    
  </figure>
<br>
则总耗时为5T</p>


<h5 class="relative group">低位交叉编址（交叉方式） 
    <div id="%E4%BD%8E%E4%BD%8D%E4%BA%A4%E5%8F%89%E7%BC%96%E5%9D%80%E4%BA%A4%E5%8F%89%E6%96%B9%E5%BC%8F" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%BD%8E%E4%BD%8D%E4%BA%A4%E5%8F%89%E7%BC%96%E5%9D%80%E4%BA%A4%E5%8F%89%E6%96%B9%E5%BC%8F" aria-label="">#</a>
    </span>        
    
</h5>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306122105240.png" alt="image.png" />
    
  </figure>
  <br>
低位交叉编址是将地址低位设为存储体序号，则CPU读取第一个存储体的内容后，下一个连续地址是下一个存储体的地址，这样可以不用等待前面存储体的恢复周期，从而实现连续读取。 相比高位编址，可以提高效率。 <br>
以连续访问00000-00100地址为例：<br>
设每个存储体存取周期为T，存取时间为r，T=r + 3r <br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306122110146.png" alt="image.png" />
    
  </figure>
<br>
则总耗时为T + 4r。 如果连续读取n个存储字，总耗时为T + (n - 1)r，当n足够大时，读取单个存储字的时间约等于r。</p>


<h6 class="relative group">那么应该取几个“体” 
    <div id="%E9%82%A3%E4%B9%88%E5%BA%94%E8%AF%A5%E5%8F%96%E5%87%A0%E4%B8%AA%E4%BD%93" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E9%82%A3%E4%B9%88%E5%BA%94%E8%AF%A5%E5%8F%96%E5%87%A0%E4%B8%AA%E4%BD%93" aria-label="">#</a>
    </span>        
    
</h6>
<p>低位交叉编址的方式类似于“流水线”的方式进行并行存取，一个存储周期内，m体交叉存储器可以提供的数据量为单个的m倍。<br>
存取周期为T，存取时间为r，为了使刘淑霞不间断，应该保证模块数m &gt;= T/r。
存取周期为T，总线传输周期为r，为了使读取不间断，应该保证模块数m &gt;= T/r。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306122122806.png" alt="image.png" />
    
  </figure>

如果m = T / r则刚好完美衔接。</p>


<h1 class="relative group">主存储器与CPU的连接 
    <div id="%E4%B8%BB%E5%AD%98%E5%82%A8%E5%99%A8%E4%B8%8Ecpu%E7%9A%84%E8%BF%9E%E6%8E%A5" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%B8%BB%E5%AD%98%E5%82%A8%E5%99%A8%E4%B8%8Ecpu%E7%9A%84%E8%BF%9E%E6%8E%A5" aria-label="">#</a>
    </span>        
    
</h1>
<p>存储芯片的基本结构：
译码驱动电路、存储矩阵、读写电路、地址线、数据线、控制线、片选线组成<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306140029807.png" alt="" />
    
  </figure>
</p>
<p>存储芯片需要暴露地址总线和数据总线与CPU进行连接，片选线（一般为CS或CE）供CPU选择，读写控制线（一般为WE或WR，也有可能会拆分为两条线WE和OE）控制对存储芯片的读/写。</p>


<h2 class="relative group">单块存储芯片与CPU连接 
    <div id="%E5%8D%95%E5%9D%97%E5%AD%98%E5%82%A8%E8%8A%AF%E7%89%87%E4%B8%8Ecpu%E8%BF%9E%E6%8E%A5" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%8D%95%E5%9D%97%E5%AD%98%E5%82%A8%E8%8A%AF%E7%89%87%E4%B8%8Ecpu%E8%BF%9E%E6%8E%A5" aria-label="">#</a>
    </span>        
    
</h2>
<p>例如给定一个8 * 8位的存储芯片，直接与CPU连接。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306140041822.png" alt="image.png" />
    
  </figure>
 <br>
如上图，存储芯片8K* 1位，即主存存储字长1 bit，主存存储单元2<sup>13</sup>个</p>
<ul>
<li>13跟地址线A与CPU的16根地址线中的13根地址线接头相连；</li>
<li>写使能线WE与CPU的控制线中的写使能线相连</li>
<li>1跟数据线D与CPU的8根数据线中的一根相连；</li>
<li>片选线CS，由于只有这一个存储芯片与CPU相连接，所以只需要直接给片选线加高电平信号就行</li>
<li>CPU的最大能力能够处理的是是64K * 64位存储器 ，但是只连接一个存储器，CPU的能力没有被充分利用；不论是机器字长还是地址线。</li>
</ul>


<h6 class="relative group">现代计算机 
    <div id="%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E7%8E%B0%E4%BB%A3%E8%AE%A1%E7%AE%97%E6%9C%BA" aria-label="">#</a>
    </span>        
    
</h6>
<p>现在的计算机一般的MDR与MAR都在CPU中。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306140013309.jpg" alt="0e9ee0fe3f0a6af182136e640cfd6ad.jpg" />
    
  </figure>
 <br>
现在的存储体一般都是由多块存储芯片组成的。</p>


<h2 class="relative group">多块存储芯片与CPU连接 
    <div id="%E5%A4%9A%E5%9D%97%E5%AD%98%E5%82%A8%E8%8A%AF%E7%89%87%E4%B8%8Ecpu%E8%BF%9E%E6%8E%A5" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%A4%9A%E5%9D%97%E5%AD%98%E5%82%A8%E8%8A%AF%E7%89%87%E4%B8%8Ecpu%E8%BF%9E%E6%8E%A5" aria-label="">#</a>
    </span>        
    
</h2>
<p>单个存储器的数据字长为8位，但是现在CPU可以同时处理的位数为32位，甚至64位，为了最大发挥数据总线的性能，每次多取多读可以减少读写次数，那应该怎么办？即数据总线宽度&gt;存储芯片字长。采用位扩展的方法。</p>


<h4 class="relative group">位扩展（扩展位数） 
    <div id="%E4%BD%8D%E6%89%A9%E5%B1%95%E6%89%A9%E5%B1%95%E4%BD%8D%E6%95%B0" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%BD%8D%E6%89%A9%E5%B1%95%E6%89%A9%E5%B1%95%E4%BD%8D%E6%95%B0" aria-label="">#</a>
    </span>        
    
</h4>
<p>例如CPU的数据总线是8位，地址总线有16位，现在有若干个地址线有13位，8K*1位的存储芯片，来进行位扩展，使得CPU的数据总线都用上。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306140028744.png" alt="image.png" />
    
  </figure>
</p>
<p>地址总线与每个存储芯片进行串行地连接，数据总线与这些存储芯片进行并行连接。</p>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306140012159.jpg" alt="d196f66b1b61e06bf8c75562d5f11c3.jpg" />
    
  </figure>
</p>
<p>扩展主存的字数？采用字扩展的方法。</p>


<h4 class="relative group">字扩展（主存容量扩展） 
    <div id="%E5%AD%97%E6%89%A9%E5%B1%95%E4%B8%BB%E5%AD%98%E5%AE%B9%E9%87%8F%E6%89%A9%E5%B1%95" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%AD%97%E6%89%A9%E5%B1%95%E4%B8%BB%E5%AD%98%E5%AE%B9%E9%87%8F%E6%89%A9%E5%B1%95" aria-label="">#</a>
    </span>        
    
</h4>
<p>例如CPU的数据总线是8位，地址总线有16位，现在有若干个地址线有13位，8K*8位的存储芯片，由于数据总线都已经被占满，所以不需要进行位扩展。但是还有3根地址线是空闲的，我们可以将这三根地址线利用上。充分利用CPU的寻址能力。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306140028470.png" alt="image.png" />
    
  </figure>
</p>
<p><strong>线选法</strong>：这三根地址线可以连接到3块存储芯片的片选线上。三根地址线信号为001则代表选择第一块存储芯片，010代表选择第二块。电路简单，地址空间不连续。</p>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306140024796.png" alt="image.png" />
    
  </figure>
</p>
<p><strong>片选法</strong>：这三根地址线通过3-8译码器，可以连接到8块存储芯片的片选线上。三根地址线信号为000则代表选择第一块存储芯片，001代表选择第二块。这样就实现了字扩展。</p>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306140026840.png" alt="image.png" />
    
  </figure>
</p>
<p>这样也就是给这8块存储芯片重新编址，类似于高位交叉编址，第一块存储芯片的地址前加上00，范围为000 0000 0000 0000到001 1111 1111 1111，第二块存储芯片的地址范围为010 0000 0000 0000到011 1111 1111 1111以此类推。设计电路较为复杂，但是地址空间连续。</p>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306140025856.png" alt="image.png" />
    
  </figure>
</p>
<p>两种方式的比较：<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306140050848.png" alt="image.png" />
    
  </figure>
</p>
<p>字位可以同时扩展！

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306140010294.jpg" alt="adc6e5b6cac19eef4cf3c804aafa9fe.jpg" />
    
  </figure>
</p>


<h2 class="relative group">关于译码器知识补充 
    <div id="%E5%85%B3%E4%BA%8E%E8%AF%91%E7%A0%81%E5%99%A8%E7%9F%A5%E8%AF%86%E8%A1%A5%E5%85%85" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%85%B3%E4%BA%8E%E8%AF%91%E7%A0%81%E5%99%A8%E7%9F%A5%E8%AF%86%E8%A1%A5%E5%85%85" aria-label="">#</a>
    </span>        
    
</h2>
<p>译码器也有多个使能信号，CPU可以通过这些使能信号来控制译码器控制片选信号的生效时间。</p>
<p>译码器 n条线入 ，可以得到2<sup>n</sup>个信号出。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306140051543.png" alt="image.png" />
    
  </figure>
  <br>
高电平有效，低电平有效译码器，与存储芯片连接时需要注意。</p>
<p>一般连通后，都需要先等一小会，等待信号稳定后再进行片选，读取数据等操作！</p>


<h1 class="relative group">外部存储器 
    <div id="%E5%A4%96%E9%83%A8%E5%AD%98%E5%82%A8%E5%99%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%A4%96%E9%83%A8%E5%AD%98%E5%82%A8%E5%99%A8" aria-label="">#</a>
    </span>        
    
</h1>
<p>外存又称为辅助存储器，目前主要是使用磁表面存储器（机械硬盘，光盘）</p>
<p>磁表面存储器是使用最广泛的外存储器。所谓磁表面存储，是用某些磁性材料薄薄地涂在金属铝或塑料表面作载磁体来存储信息。根据记录载体的外形，磁表面存储器有磁鼓、磁带、磁盘、磁卡等。而在计算机系统中广泛使用的是磁盘和磁带；特别是磁盘，几乎是稍具规模系统的基本配置。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306141543592.png" alt="image.png" />
    
  </figure>
</p>
<p>针头上有写线圈与读线圈，划过磁层上方后每次读或写1bit数据，如果要读/写8bit数据，需要转为串行。</p>
<p>优点：</p>
<ol>
<li>存储容量大，位价格低</li>
<li>记录介质可以重复使用</li>
<li>记录信息可以长期保存不丢失，甚至可以脱机读档。</li>
<li>非破坏性读出，读出后不需要重新写入。</li>
</ol>
<p>缺点：</p>
<ol>
<li>存取数据慢</li>
<li>机械机构复杂</li>
<li>对工作环境要求较高（不能处于强磁场区域）</li>
</ol>
<p>既可以作为输入设备，也可以作为输出设备。</p>


<h2 class="relative group">磁盘存储器 
    <div id="%E7%A3%81%E7%9B%98%E5%AD%98%E5%82%A8%E5%99%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E7%A3%81%E7%9B%98%E5%AD%98%E5%82%A8%E5%99%A8" aria-label="">#</a>
    </span>        
    
</h2>


<h3 class="relative group">磁盘设备的组成 
    <div id="%E7%A3%81%E7%9B%98%E8%AE%BE%E5%A4%87%E7%9A%84%E7%BB%84%E6%88%90" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E7%A3%81%E7%9B%98%E8%AE%BE%E5%A4%87%E7%9A%84%E7%BB%84%E6%88%90" aria-label="">#</a>
    </span>        
    
</h3>
<ol>
<li>存储区域
一块磁盘含有若干个记录面，每个记录面划分为若干条磁道，而每条磁道又划分为若干个扇区，扇区（也叫块）是磁盘读写的最小单位，也就是说磁盘按块读取。</li>
</ol>
<ul>
<li>磁头数
记录面数，表示磁盘总共有多少个磁头，磁头用于读取/写入盘片上记录面的信息，一个记录面对应一个磁头。</li>
<li>柱面数（从内向外）
表示硬盘每一面上有多少条磁道。在一个盘组中，不同记录面的相同编号（位置）的所有磁道构成一个圆柱面。</li>
<li>扇区数（圆周分为几部分扇形）
表示每一条磁道有多少个扇区</li>
</ul>
<ol start="2">
<li>硬盘存储器
磁盘驱动器：<br>
核心部分是磁头组件和盘片组件。一般为机械硬盘的盘面磁头等一系列组件。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306141609365.png" alt="image.png" />
    
  </figure>
</li>
</ol>
<p>磁盘控制器：<br>
是硬盘存储器与主机的接口。一般是机械硬盘背面的电路板。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306141609402.png" alt="image.png" />
    
  </figure>
</p>


<h3 class="relative group">磁盘的性能指标 
    <div id="%E7%A3%81%E7%9B%98%E7%9A%84%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E7%A3%81%E7%9B%98%E7%9A%84%E6%80%A7%E8%83%BD%E6%8C%87%E6%A0%87" aria-label="">#</a>
    </span>        
    
</h3>


<h6 class="relative group">磁盘的容量： 
    <div id="%E7%A3%81%E7%9B%98%E7%9A%84%E5%AE%B9%E9%87%8F" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E7%A3%81%E7%9B%98%E7%9A%84%E5%AE%B9%E9%87%8F" aria-label="">#</a>
    </span>        
    
</h6>
<p>一个磁盘所能存储的字节总数。磁盘容量有非格式化容量和格式化容量之分。<br>
非格式化容量是指磁记录表面可以李彤的磁化单元总数。是理论上硬盘的容量。 <br>
格式化容量是指按照某种特定的记录格式所能存储信息的重量。用户实际能存储数据的容量。<br>
格式化容量一般比非格式化容量小。</p>


<h6 class="relative group">记录密度： 
    <div id="%E8%AE%B0%E5%BD%95%E5%AF%86%E5%BA%A6" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E8%AE%B0%E5%BD%95%E5%AF%86%E5%BA%A6" aria-label="">#</a>
    </span>        
    
</h6>
<ul>
<li>道密度
沿磁盘半径方向单位长度上的磁道数。例如60道/cm</li>
<li>位密度
磁盘单位长度上能记录的二进制代码位数。例如600bit/cm</li>
<li>面密度
位密度与道密度的乘积，单位面积上能记录的二进制代码
注意：磁盘上所有磁道记录的信息量是相等的，并非越靠外，磁道越长记录的越多。这也表明每条磁道的位密度不同，越靠外位密度越低，越靠内位密度越高。所以磁盘性能很大情况看最内层磁道所存储的信息量。</li>
</ul>


<h6 class="relative group">平均存取时间 
    <div id="%E5%B9%B3%E5%9D%87%E5%AD%98%E5%8F%96%E6%97%B6%E9%97%B4" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%B9%B3%E5%9D%87%E5%AD%98%E5%8F%96%E6%97%B6%E9%97%B4" aria-label="">#</a>
    </span>        
    
</h6>
<p>平均存取时间 = 寻道时间（磁头移动到要读取的磁道时间） + 旋转延迟时间（磁盘旋转将扇区划到磁头下方） + 传输时间（磁头开始读取数据）。</p>


<h6 class="relative group">数据传输率 
    <div id="%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%8E%87" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E7%8E%87" aria-label="">#</a>
    </span>        
    
</h6>
<p>单位时间内磁盘存储器向主机传送数据的字节数。假设磁盘转速为r，每条磁道容量为N个字节，则数据传输率为r*N  <br>
读取一个扇区的时间 ＝ 找磁道的时间 + 找扇区的时间 + 磁头扫过一个扇区的时间。   <br>
磁头先移动到 磁道的时间 为寻道时间。磁盘旋转到扇区的时间为旋转延迟时间，一般取磁头扫完整个磁道的时间的一半。 传输时间为 读取的数据除以 数据传输率。</p>


<h3 class="relative group">磁盘地址 
    <div id="%E7%A3%81%E7%9B%98%E5%9C%B0%E5%9D%80" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E7%A3%81%E7%9B%98%E5%9C%B0%E5%9D%80" aria-label="">#</a>
    </span>        
    
</h3>
<p>主机向磁盘控制器发送寻址信息，
驱动器号（电脑可能有多个硬盘） + 盘面/磁道号（从内到外在哪个圈上） + 盘面号（从上到下在哪个盘上） + 扇区号（确定了哪个盘哪个磁道，再找在哪个扇区）<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306141638329.png" alt="image.png" />
    
  </figure>
</p>


<h3 class="relative group">磁盘的工作过程 
    <div id="%E7%A3%81%E7%9B%98%E7%9A%84%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E7%A3%81%E7%9B%98%E7%9A%84%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B" aria-label="">#</a>
    </span>        
    
</h3>
<p>硬盘的主要操作是寻址，读盘，写盘，每个操作都对应一个控制字，磁盘工作时，第一步是取控制字，第二步是执行控制字。<br>
磁盘属于机械式部件，其读写操作是串行的，不可能同一时刻读和写，也不可能同时读或写两份数据。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306141641175.png" alt="image.png" />
    
  </figure>
</p>


<h3 class="relative group">磁盘阵列（RAID） 
    <div id="%E7%A3%81%E7%9B%98%E9%98%B5%E5%88%97raid" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E7%A3%81%E7%9B%98%E9%98%B5%E5%88%97raid" aria-label="">#</a>
    </span>        
    
</h3>
<p>RAID （ Redundant Array of Independent Disks ）即独立磁盘冗余阵列，简称为「磁盘阵列」，其实就是用多个独立的磁盘组成在一起形成一个大的磁盘系统，从而实现比单块磁盘更好的存储性能和更高的可靠性。避免数据出现错误导致信息丢失。方案不断更新，安全性越高。   <br>
RAID方案常见的可以分为：</p>
<ul>
<li>RAID0：无冗余和无校验（无容错能力）</li>
<li>RAID1：镜像磁盘阵列（容量减少一半，镜像磁盘互为备份）</li>
<li>RAID2：采用纠错的海明码的磁盘阵列</li>
<li>RAID3：位交叉奇偶校验</li>
<li>RAID4：块交叉奇偶校验</li>
<li>RAID5：无独立校验的奇偶校验磁盘阵列</li>
</ul>


<h2 class="relative group">固态硬盘SSD 
    <div id="%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98ssd" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%9B%BA%E6%80%81%E7%A1%AC%E7%9B%98ssd" aria-label="">#</a>
    </span>        
    
</h2>


<h5 class="relative group">原理 
    <div id="%E5%8E%9F%E7%90%86" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%8E%9F%E7%90%86" aria-label="">#</a>
    </span>        
    
</h5>
<p>基于闪存技术，属于电可擦除ROM，即EEPROM。</p>


<h5 class="relative group">组成 
    <div id="%E7%BB%84%E6%88%90" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E7%BB%84%E6%88%90" aria-label="">#</a>
    </span>        
    
</h5>
<ul>
<li>闪存翻译层
负责翻译逻辑块号，定位到对应页</li>
<li>存储介质，闪存芯片组（包含一个或多个闪存芯片）。
每个芯片包含多个块，每个块包含多个页。</li>
</ul>


<h5 class="relative group">读写性能特性 
    <div id="%E8%AF%BB%E5%86%99%E6%80%A7%E8%83%BD%E7%89%B9%E6%80%A7" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E8%AF%BB%E5%86%99%E6%80%A7%E8%83%BD%E7%89%B9%E6%80%A7" aria-label="">#</a>
    </span>        
    
</h5>
<ul>
<li>以页为单位进行读写，相当于磁盘的扇区。</li>
<li>以块为单位擦除，擦干净的块，其中的每一页都可以写一次，读无数次。</li>
<li>支持随机访问，系统给定一个逻辑地址，闪存翻译层可以通过电路迅速定位到对应的物理地址。</li>
<li>读快、写慢（涉及擦除等操作），要写入的页如果有数据，则不能写入。需要将块内其他页全部复制到一个新的（擦除过的）块中，再写入新的页。</li>
</ul>


<h5 class="relative group">与机械硬盘相比的特点 
    <div id="%E4%B8%8E%E6%9C%BA%E6%A2%B0%E7%A1%AC%E7%9B%98%E7%9B%B8%E6%AF%94%E7%9A%84%E7%89%B9%E7%82%B9" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E4%B8%8E%E6%9C%BA%E6%A2%B0%E7%A1%AC%E7%9B%98%E7%9B%B8%E6%AF%94%E7%9A%84%E7%89%B9%E7%82%B9" aria-label="">#</a>
    </span>        
    
</h5>
<ul>
<li>SSD读写快，随机访问性能高，用电路控制访问位置。</li>
<li>SSD安静无噪音，耐摔抗震，能耗低中，造价更贵。</li>
<li>SSD的一个“块”被擦除次数过多（重复写入同一个块）可能会坏掉，而机械硬盘并不会因为写的次数太多而坏掉。</li>
</ul>


<h5 class="relative group">磨损均衡技术 
    <div id="%E7%A3%A8%E6%8D%9F%E5%9D%87%E8%A1%A1%E6%8A%80%E6%9C%AF" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E7%A3%A8%E6%8D%9F%E5%9D%87%E8%A1%A1%E6%8A%80%E6%9C%AF" aria-label="">#</a>
    </span>        
    
</h5>
<ul>
<li>将擦除平均分布在各个块上，以提升使用寿命。</li>
<li>动态磨损均衡
写入数据时，优先选择累计擦除次数少的新闪存块。</li>
<li>静态磨损均衡
SSD监测并自动进行数据分配、迁移、让老旧的块承担以读为主的存储任务，让较新的闪存块承担更多的写任务。</li>
</ul>


<h1 class="relative group">高速缓冲器（Cache） 
    <div id="%E9%AB%98%E9%80%9F%E7%BC%93%E5%86%B2%E5%99%A8cache" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E9%AB%98%E9%80%9F%E7%BC%93%E5%86%B2%E5%99%A8cache" aria-label="">#</a>
    </span>        
    
</h1>
<p>通过提高存储芯片本身的速度与采用并行存储器结构可以缓解CPU与主存之间速度不匹配的问题。除了这两种方法，在CPU与主存之间设置高速缓冲器（Cache），即将频繁访问的数据放入高速存储器，这样CPU读取经常访问的数据的速度就快多了，这样也可以提高CPU访问指令和数据的速度！<br>
现在Cache一般都被集成到了CPU中，用SRAM实现，速度快，成本高！</p>


<h2 class="relative group">局部性原理 
    <div id="%E5%B1%80%E9%83%A8%E6%80%A7%E5%8E%9F%E7%90%86" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%B1%80%E9%83%A8%E6%80%A7%E5%8E%9F%E7%90%86" aria-label="">#</a>
    </span>        
    
</h2>
<ul>
<li>空间局部性：<br>
在将要使用的信息（指令和数据），很可能与正在使用的信息存在存储空间中相邻的位置，比如使用的数组元素。</li>
<li>时间局部性：<br>
将要使用的信息中，很可能就是现在正在使用的信息。  比如程序中所使用的循环结构。  <br>
基于这个原理不难想到，我们可以把CPU目前访问的地址附近的部分数据存到Cache中。 <br>
访问二维数组内容时，如果先访问列与先访问行内容的空间局部性利用较差！</li>
</ul>


<h2 class="relative group">Cache的基本工作原理 
    <div id="cache%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#cache%E7%9A%84%E5%9F%BA%E6%9C%AC%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86" aria-label="">#</a>
    </span>        
    
</h2>
<p>主存的“块”又叫”页/页框/页面“；Cache的“块”又叫“行”；主存块的大小等于Cache行中数据区的大小。<br>
主存地址可拆分为（主存块，块内地址）的形式。<br>
主存和Cache之间是以块为单位来进行交换的。
每次被访问的主存块，一定会被立即调入Cache中。</p>


<h3 class="relative group">Cache中的有效位 
    <div id="cache%E4%B8%AD%E7%9A%84%E6%9C%89%E6%95%88%E4%BD%8D" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#cache%E4%B8%AD%E7%9A%84%E6%9C%89%E6%95%88%E4%BD%8D" aria-label="">#</a>
    </span>        
    
</h3>
<p>系统启动或复位时，每个Cache行都为空，其中的信息无效，只用从主存中转入了数据才有效，为了说明Cache行中的数据是否有效，每个Cache行需要设定一个有效位。有了有效位，可以通过将有效位置为0来淘汰某Cache行中的主存块，称之为“冲刷”，装入时再置为1。</p>


<h3 class="relative group">CPU找Cache中的访问过程 
    <div id="cpu%E6%89%BEcache%E4%B8%AD%E7%9A%84%E8%AE%BF%E9%97%AE%E8%BF%87%E7%A8%8B" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#cpu%E6%89%BEcache%E4%B8%AD%E7%9A%84%E8%AE%BF%E9%97%AE%E8%BF%87%E7%A8%8B" aria-label="">#</a>
    </span>        
    
</h3>
<p>CPU在执行程序过程中，需要从主存储器中读取指令或数据时，先检查Cache中有没有要访问的信息，若有则直接从中读取，若没有再从主存中把当前访问信息所在的一个主存块复制到Cache中，因此Cache中的内容是主存中部分内容的副本。</p>


<h3 class="relative group">平均访问时间 
    <div id="%E5%B9%B3%E5%9D%87%E8%AE%BF%E9%97%AE%E6%97%B6%E9%97%B4" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%B9%B3%E5%9D%87%E8%AE%BF%E9%97%AE%E6%97%B6%E9%97%B4" aria-label="">#</a>
    </span>        
    
</h3>
<p>设t<sub>c</sub>为访问一次Cache所需的时间，t<sub>m</sub>为访问一次主存所需要的时间，命中率H为CPU将要访问的信息在Cache中的比率。<br>
则 Cache-主存 系统中平均访问时间为：</p>
<ol>
<li>先访问Cache，找不到再访问主存
t = Ht<sub>c</sub> + (1 - H)(t<sub>m</sub> + T)</li>
<li>同时访问Cache和主存，若Cache命中则停止访问主存
t = Ht<sub>c</sub> + (1 - H)t<sub>m</sub></li>
</ol>


<h3 class="relative group">几个问题 
    <div id="%E5%87%A0%E4%B8%AA%E9%97%AE%E9%A2%98" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%87%A0%E4%B8%AA%E9%97%AE%E9%A2%98" aria-label="">#</a>
    </span>        
    
</h3>
<p>如何区分Cache与主存中的数据块对应关系？<br>
如果Cache满了要怎么办？  <br>
CPU修改了Cache中的数据副本，如何确保主存中的数据母本的一致性？</p>


<h2 class="relative group">Cache行与主存块之间的映射方式 
    <div id="cache%E8%A1%8C%E4%B8%8E%E4%B8%BB%E5%AD%98%E5%9D%97%E4%B9%8B%E9%97%B4%E7%9A%84%E6%98%A0%E5%B0%84%E6%96%B9%E5%BC%8F" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#cache%E8%A1%8C%E4%B8%8E%E4%B8%BB%E5%AD%98%E5%9D%97%E4%B9%8B%E9%97%B4%E7%9A%84%E6%98%A0%E5%B0%84%E6%96%B9%E5%BC%8F" aria-label="">#</a>
    </span>        
    
</h2>
<p>Cache中存储的信息为：<br>
有效位0/1 + 标记（确定在主存中的地址） + 整块数据   <br>
如何区分Cache与主存中的数据块对应关系？</p>


<h3 class="relative group">全相联映射（随意映射） 
    <div id="%E5%85%A8%E7%9B%B8%E8%81%94%E6%98%A0%E5%B0%84%E9%9A%8F%E6%84%8F%E6%98%A0%E5%B0%84" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%85%A8%E7%9B%B8%E8%81%94%E6%98%A0%E5%B0%84%E9%9A%8F%E6%84%8F%E6%98%A0%E5%B0%84" aria-label="">#</a>
    </span>        
    
</h3>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306142024787.png" alt="image.png" />
    
  </figure>

主存块可以放到Cache中的任意位置。
以某计算机的主存地址空间为256MB，按字节编址，其数据Cache有8个Cache行，行长为64B为例。<br>
Cache块与主存块大小相等，所以主存块的大小也为64B，由于主存是按字节编址，则块内地址共6位，即0到63，主存块号为共22位。<br>
从而映射到Cache中的标记也有22位，再附加1位有效位，置1证明是有效。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306142046763.png" alt="image.png" />
    
  </figure>
<br>
全相联映射的思想是一个主存块可装到Cache行中的任意一块，每行的标记用于指出该行取自主存的哪个块，主存地址也无需Cache行索引，只有标记和块内地址两个字段。只要有空闲的Cache行，就不会发生冲突。<br>
优点： Cache空间利用率充分，命中率高；<br>
缺点：查找“标记”锁定内存块慢，有可能需要比对很多行。不适合容量较大的Cache。</p>


<h3 class="relative group">直接映射 
    <div id="%E7%9B%B4%E6%8E%A5%E6%98%A0%E5%B0%84" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E7%9B%B4%E6%8E%A5%E6%98%A0%E5%B0%84" aria-label="">#</a>
    </span>        
    
</h3>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306142024235.png" alt="image.png" />
    
  </figure>

每个主存块只能放到一个特定的位置，Cache块号=主存块号 % Cache总块数  只能放到固定的位置。  <br>
以某计算机的主存地址空间为256MB，按字节编址，其数据Cache有8个Cache行，行长为64B为例。  <br>
Cache块与主存块大小相等，所以主存块的大小也为64B，由于主存是按字节编址，则块内地址共6位，即0到63，主存块号为共22位，其中19位为标记，3位为行号。<br>
从而映射到Cache中的标记也有19位，再附加1位有效位，置1证明是有效。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306142107010.png" alt="image.png" />
    
  </figure>

直接映射的优点是容易实现，命中时间短。但是多个块号“同余”的内存块只能映射到同一行Cache，会频繁的调进调出，使其他Cache都空闲，不能够使得Cache存储空间得到充分利用，不够灵活，命中率较低。</p>


<h3 class="relative group">组相联映射 
    <div id="%E7%BB%84%E7%9B%B8%E8%81%94%E6%98%A0%E5%B0%84" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E7%BB%84%E7%9B%B8%E8%81%94%E6%98%A0%E5%B0%84" aria-label="">#</a>
    </span>        
    
</h3>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306142026043.png" alt="image.png" />
    
  </figure>

Cache块分为若干组，每个主存块可以放到特定分组中的任意一个位置，所属分组 = 主存块号 % 分组数。<br>
以某计算机的主存地址空间为256MB，按字节编址，其数据Cache有8个Cache行，行长为64B为例。<br>
以2如组相联映射&ndash;2块为一组，分为四组。<br>
Cache块与主存块大小相等，所以主存块的大小也为64B，由于主存是按字节编址，则块内地址共6位，即0到63，主存块号为共22位，其中20位为标记，2位为行号。<br>
从而映射到Cache中的标记也有20位，再附加1位有效位，置1证明是有效<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306142114924.png" alt="image.png" />
    
  </figure>

对直接映射和全相联映射取长补短，综合效果较好。 <br>
n路组相联映射&mdash;&ndash;每n个Cache行为一组。</p>


<h2 class="relative group">Cache中主存块的替换算法 
    <div id="cache%E4%B8%AD%E4%B8%BB%E5%AD%98%E5%9D%97%E7%9A%84%E6%9B%BF%E6%8D%A2%E7%AE%97%E6%B3%95" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#cache%E4%B8%AD%E4%B8%BB%E5%AD%98%E5%9D%97%E7%9A%84%E6%9B%BF%E6%8D%A2%E7%AE%97%E6%B3%95" aria-label="">#</a>
    </span>        
    
</h2>
<p>如果Cache满了要怎么办？<br>
对于全相联映射，当Cache完全满了时，需要在全局内选择替换哪一块。对于组相联映射，当分组内Cache满了才需要替换，需要在分组内中选择替换掉哪一块。对于直接映射，如果选择的位置非空，那么直接替换，不用考虑替换算法。</p>


<h3 class="relative group">随机替换算法RAND 
    <div id="%E9%9A%8F%E6%9C%BA%E6%9B%BF%E6%8D%A2%E7%AE%97%E6%B3%95rand" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E9%9A%8F%E6%9C%BA%E6%9B%BF%E6%8D%A2%E7%AE%97%E6%B3%95rand" aria-label="">#</a>
    </span>        
    
</h3>
<p>若Cache满了，随机选择一块替换！ <br>
设总共有4个Cache块，初始整个Cache行均 为空，采用全相联映射，依次访问主存块{1,2,3,4,1,2,5,1,2,3,4,5}。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306142138723.png" alt="image.png" />
    
  </figure>

其中替换的块都是随机选择的。 <br>
随机算法，实现简单，但是没有考虑局部性原理，命中率低，实际效果很不稳定！</p>


<h3 class="relative group">先进先出算法FIFO 
    <div id="%E5%85%88%E8%BF%9B%E5%85%88%E5%87%BA%E7%AE%97%E6%B3%95fifo" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%85%88%E8%BF%9B%E5%85%88%E5%87%BA%E7%AE%97%E6%B3%95fifo" aria-label="">#</a>
    </span>        
    
</h3>
<p>若Cache满了，则替换最先被调入Cache的块！<br>
设总共有4个Cache块，初始整个Cache行均 为空，采用全相联映射，依次访问主存块{1,2,3,4,1,2,5,1,2,3,4,5}。<br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306142142927.png" alt="image.png" />
    
  </figure>

其中替换的都是当前最先被调入的。实现也较为简单，最开始是按照#0#1#2#3放入Cache，之后轮流替换#0#1#2#3即可。但是依旧没有考虑局部性原理，因为最先被调用的很可能是频繁被访问的，有可能会出现频繁地被环路换出的情况“抖动”。</p>


<h3 class="relative group">最近最少用算法LRU 
    <div id="%E6%9C%80%E8%BF%91%E6%9C%80%E5%B0%91%E7%94%A8%E7%AE%97%E6%B3%95lru" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E6%9C%80%E8%BF%91%E6%9C%80%E5%B0%91%E7%94%A8%E7%AE%97%E6%B3%95lru" aria-label="">#</a>
    </span>        
    
</h3>
<p>为每一个Cache块设置一个“计数器”，用于记录每个Cache已有多久没被访问到了。若Cache满了，则替换”计数器“中数最大的。<br>
设总共有4个Cache块，初始整个Cache行均 为空，采用全相联映射，依次访问主存块{1,2,3,4,1,2,5,1,2,3,4,5}  <br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306142158764.png" alt="image.png" />
    
  </figure>
</p>
<ul>
<li>命中时，所命中的行的计数器清零，比其低的计数器加一，其余不变。（如访问已有的1，只需把1所在Cache块计数器置零，比它大的没必要加1，因为计数器看大小。这样就可以保证计数器的大小小于4，只需要两个bit存储信息)</li>
<li>未命中且还有空闲行时，新装入的行的计数器置0，其余非空闲行全加1。</li>
<li>未命中且无空闲行时，计数值最大的行的信息被淘汰，新装行的块的计数器置0，其余全加1。
如果频繁访问的主存块数量大于Cache行的数量，则有可能发生“抖动”，如{1,2,3,4,5,1,2,3,4,5,1，2,3,4&hellip;&hellip;}。</li>
</ul>


<h3 class="relative group">最不常用算法LFU 
    <div id="%E6%9C%80%E4%B8%8D%E5%B8%B8%E7%94%A8%E7%AE%97%E6%B3%95lfu" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E6%9C%80%E4%B8%8D%E5%B8%B8%E7%94%A8%E7%AE%97%E6%B3%95lfu" aria-label="">#</a>
    </span>        
    
</h3>
<p>为每一个Cache块设置一个“计数器”，用于记录每个Cache被访问过多少次。若Cache满了，则替换”计数器“中数最小的。<br>
设总共有4个Cache块，初始整个Cache行均 为空，采用全相联映射，依次访问主存块{1,2,3,4,1,2,5,1,2,3,4,5}  <br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306142205643.png" alt="image.png" />
    
  </figure>

新调入的块计数器置0，之后每次被访问一次计数器加一。当需要替换时，选择计数器最小的一行。如果有多个计数器最小的行，可以选择按照行号递增或FIFO策略进行替换。<br>
计数器中的值可能会很大，所以需要多位bit来存储信息。   <br>
LFU算法中曾经经常访问的主存块在为了不一定会被用到，比如一段时间内集中使用某段代码，但是这项工作结束后，后续可能很少会用到之前的相关数据。 并没有很好的遵循局部性原理，因此实际运行效果不如LRU。</p>


<h2 class="relative group">Cache的一致性问题 
    <div id="cache%E7%9A%84%E4%B8%80%E8%87%B4%E6%80%A7%E9%97%AE%E9%A2%98" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#cache%E7%9A%84%E4%B8%80%E8%87%B4%E6%80%A7%E9%97%AE%E9%A2%98" aria-label="">#</a>
    </span>        
    
</h2>
<p>CPU修改了Cache中的数据副本，如何确保主存中的数据母本的一致性？</p>


<h3 class="relative group">写命中 
    <div id="%E5%86%99%E5%91%BD%E4%B8%AD" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%86%99%E5%91%BD%E4%B8%AD" aria-label="">#</a>
    </span>        
    
</h3>


<h4 class="relative group">写回法 
    <div id="%E5%86%99%E5%9B%9E%E6%B3%95" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%86%99%E5%9B%9E%E6%B3%95" aria-label="">#</a>
    </span>        
    
</h4>
<p>当CPU对Cache写命中时，只修改Cache的内容，而不立即写入主存，只有当此时块被换出时才写会主存。Cache行中置一位脏位来表示是否被修改过，没被修改过就不必写回。<br>
减少了访存次数，但存在数据不一致的隐患。</p>


<h4 class="relative group">全写法（写直通法） 
    <div id="%E5%85%A8%E5%86%99%E6%B3%95%E5%86%99%E7%9B%B4%E9%80%9A%E6%B3%95" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%85%A8%E5%86%99%E6%B3%95%E5%86%99%E7%9B%B4%E9%80%9A%E6%B3%95" aria-label="">#</a>
    </span>        
    
</h4>
<p>当CPU对Cache写命中时，必须把数据同时写入Cache和主存，一般使用写缓冲。<br>
访存次数增加，速度变慢，但更能保持数据一致性。</p>
<p>可以增加用SRAM制作的写缓冲，利用FIFO策略。CPU对Cache写命中时，对Cache写命中时，同时对写缓冲写入内容。CPU写入SRAM速度是比直接写入主存要快的，SRAM再通过专门的控制电路控制写缓冲逐一写回主存。<br>
如果操作不频繁，使用写缓冲的效果会较好，但是如果操作频繁，写缓冲会出现饱和并发生阻塞。</p>


<h3 class="relative group">写未命中 
    <div id="%E5%86%99%E6%9C%AA%E5%91%BD%E4%B8%AD" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%86%99%E6%9C%AA%E5%91%BD%E4%B8%AD" aria-label="">#</a>
    </span>        
    
</h3>


<h4 class="relative group">写分配法 
    <div id="%E5%86%99%E5%88%86%E9%85%8D%E6%B3%95" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%86%99%E5%88%86%E9%85%8D%E6%B3%95" aria-label="">#</a>
    </span>        
    
</h4>
<p>当CPU对Cache写不命中时，会将主存中的块调入Cache，在Cache中修改，并通常搭配写回法使用。</p>


<h4 class="relative group">非写分配法 
    <div id="%E9%9D%9E%E5%86%99%E5%88%86%E9%85%8D%E6%B3%95" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E9%9D%9E%E5%86%99%E5%88%86%E9%85%8D%E6%B3%95" aria-label="">#</a>
    </span>        
    
</h4>
<p>当CPU对Cache写不命中时，只写入主存，不调入Cache。只对读操作未命中时才调入Cache。并通常搭配全写法使用。</p>


<h3 class="relative group">多级Cache 
    <div id="%E5%A4%9A%E7%BA%A7cache" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%A4%9A%E7%BA%A7cache" aria-label="">#</a>
    </span>        
    
</h3>
<p>现代计算机常采用多级 Cache，离CPU越近速度越快，容量越小。离CPU越远速度越慢，容量越大。不同级的Cache中也有数据一致性的问题。 <br>

  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306161602632.png" alt="image.png" />
    
  </figure>
</p>


<h1 class="relative group">虚拟存储器 
    <div id="%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E5%99%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E5%99%A8" aria-label="">#</a>
    </span>        
    
</h1>
<p>重点在操作系统中体现！<br>
主存和辅存共同构成了虚拟存储器，两者在硬件和系统软件的共同管理下工作。对于应用级程序员而言，虚拟存储器是透明的。虚拟存储器具有主存的速度和辅存的容量。<br>
手机和电脑有时候同时运行很多软件，这些软件占用的总内存可能超过了主存空间，但是用起来感觉不卡，这就是启用了虚拟存储器。将一些不常用的资源放到了辅存中。</p>


<h2 class="relative group">虚拟存储器的基本概念 
    <div id="%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5" aria-label="">#</a>
    </span>        
    
</h2>


<h2 class="relative group">页式虚拟存储器 
    <div id="%E9%A1%B5%E5%BC%8F%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E5%99%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E9%A1%B5%E5%BC%8F%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E5%99%A8" aria-label="">#</a>
    </span>        
    
</h2>
<p>操作系统将程序分“页”</p>


<h4 class="relative group">页表 
    <div id="%E9%A1%B5%E8%A1%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E9%A1%B5%E8%A1%A8" aria-label="">#</a>
    </span>        
    
</h4>
<ul>
<li>逻辑页号</li>
<li>主存块号</li>
<li>外存块号</li>
<li>有效位（装入位）
表示对应页面是否已经被装入主存，1代表该页面已经被从外存调入主存。</li>
<li>访问位（引用位）
配合页面替换算法设置的。</li>
<li>脏位
也叫修改位，用来表示页面是否被修改过，虚拟机制一般采用回写策略。利用脏位来表示是否需要写会磁盘。</li>
</ul>


<h4 class="relative group">快表 
    <div id="%E5%BF%AB%E8%A1%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E5%BF%AB%E8%A1%A8" aria-label="">#</a>
    </span>        
    
</h4>


<h2 class="relative group">段式虚拟存储器 
    <div id="%E6%AE%B5%E5%BC%8F%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E5%99%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E6%AE%B5%E5%BC%8F%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E5%99%A8" aria-label="">#</a>
    </span>        
    
</h2>
<p>
  <figure>
    <img class="my-0 rounded-md" loading="lazy" src="https://cdn.staticaly.com/gh/ivylet/blog_picg-@master/img/202306161641199.png" alt="image.png" />
    
  </figure>
</p>


<h2 class="relative group">段页式虚拟存储器 
    <div id="%E6%AE%B5%E9%A1%B5%E5%BC%8F%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E5%99%A8" class="anchor"></div>
    
    <span
        class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100">
        <a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700"
            style="text-decoration-line: none !important;" href="#%E6%AE%B5%E9%A1%B5%E5%BC%8F%E8%99%9A%E6%8B%9F%E5%AD%98%E5%82%A8%E5%99%A8" aria-label="">#</a>
    </span>        
    
</h2>

    </div>




  </section>
  
  <section class="mt-10 prose dark:prose-invert">
    <p class="py-8 border-t">
      <em></em>
    </p>
  </section>
  

    

  
      <div id="top-scroller" class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0">
  <a href="#the-top"
    class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400"
    aria-label="" title="">
    &uarr;
  </a>
</div>
    </main><footer id="site-footer" class="py-10 print:hidden">
  
  
    
    <nav class="flex flex-row pb-4 text-base font-medium text-neutral-500 dark:text-neutral-400">
      <ul class="flex flex-col list-none sm:flex-row">
        
        <li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
          <a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href="/tags/"
            title="">
            
            Tags
          </a>
        </li>
        
        <li class="flex mb-1 ltr:text-right rtl:text-left sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0">
          <a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2 flex items-center" href="/categories/"
            title="">
            
            Categories
          </a>
        </li>
        
      </ul>
    </nav>
    
  
  <div class="flex items-center justify-between">

    
    
    <p class="text-sm text-neutral-500 dark:text-neutral-400">
      Copy, <em>right?</em> :thinking_face:
    </p>
    

    
    
    <p class="text-xs text-neutral-500 dark:text-neutral-400">
      
      
      
    </p>
    

  </div>
  <script>
    
    mediumZoom(document.querySelectorAll("img:not(.nozoom)"), {
      margin: 24,
      background: 'rgba(0,0,0,0.5)',
      scrollOffset: 0,
    })
    
  </script>
  
  
  <script type="text/javascript" src="/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js" integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh&#43;sCQ0E53ghYrxgYqw&#43;0GCRyIEpA=="></script>
  
  
</footer>
<div
  id="search-wrapper"
  class="invisible fixed inset-0 flex h-screen w-screen cursor-default flex-col bg-neutral-500/50 p-4 backdrop-blur-sm dark:bg-neutral-900/50 sm:p-6 md:p-[10vh] lg:p-[12vh]"
  data-url="http://localhost:1313/"
  style="z-index:500"
>
  <div
    id="search-modal"
    class="flex flex-col w-full max-w-3xl min-h-0 mx-auto border rounded-md shadow-lg top-20 border-neutral-200 bg-neutral dark:border-neutral-700 dark:bg-neutral-800"
  >
    <header class="relative z-10 flex items-center justify-between flex-none px-2">
      <form class="flex items-center flex-auto min-w-0">
        <div class="flex items-center justify-center w-8 h-8 text-neutral-400">
          

  <span class="relative block icon">
    <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="search" class="svg-inline--fa fa-search fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"/></svg>

  </span>


        </div>
        <input
          type="search"
          id="search-query"
          class="flex flex-auto h-12 mx-1 bg-transparent appearance-none focus:outline-dotted focus:outline-2 focus:outline-transparent"
          placeholder=""
          tabindex="0"
        />
      </form>
      <button
        id="close-search-button"
        class="flex items-center justify-center w-8 h-8 text-neutral-700 hover:text-primary-600 dark:text-neutral dark:hover:text-primary-400"
        title=""
      >
        

  <span class="relative block icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"/></svg>

  </span>


      </button>
    </header>
    <section class="flex-auto px-2 overflow-auto">
      <ul id="search-results">
        
      </ul>
    </section>
  </div>
</div>

  </div>
</body>

</html>
